///////////////////////////////////////////////////////////////////////////////
// Virtual-Gyroscope
// -----------------
// File :kalman_filter.h
// PA Consulting  - Pierre Sutter
///////////////////////////////////////////////////////////////////////////////

#ifndef KALMAN_FILTER
#define KALMAN_FILTER
#include "conf/conf_vgyro.h"

///////////////////////////////////////////////////////////////////////////////
// Struct Kalman.
///////////////////////////////////////////////////////////////////////////////

// Struct that holds the parameters of a Kalman_Filter
typedef struct
{
	int 				num_elems;
	float 			eat;
	float 			inv_a;
	gsl_matrix 	*k; // The Kalman Gain of the Filter.
} Kalman;

///////////////////////////////////////////////////////////////////////////////
// Creation, deletion.
///////////////////////////////////////////////////////////////////////////////

Kalman* 		build_kalman(Conf*);
void 				free_kalman(Kalman* kf);

///////////////////////////////////////////////////////////////////////////////
// Display.
///////////////////////////////////////////////////////////////////////////////

void 				display_kf(Kalman *kf);



#endif
